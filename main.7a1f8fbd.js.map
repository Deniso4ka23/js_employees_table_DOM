{"version":3,"sources":["scripts/main.js"],"names":["getNumber","str","includes","slice","replaceAll","replaceFirstLetter","toUpperCase","pushNotification","type","text","titleText","boxNotification","document","createElement","h1","p","append","classList","add","className","innerText","body","setTimeout","remove","getThousandSeparator","number","toLocaleString","data","offices","employees","querySelector","form","button","i","label","select","option","name","setAttribute","country","cloneNode","input","min","children","ariaRequired","count","sortTarget","addEventListener","e","target","preventDefault","sort","a","b","isCompareAsString","isCompareAsNumber","cellIndex","first","second","defaultPrevented","localeCompare","length","newTr","selectItem","parentElement","dataForm","Object","fromEntries","FormData","entries","isEmptyField","position","salary","age","isCorrectName","isCorrectAge","tr","td","reset"],"mappings":"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","file":"main.7a1f8fbd.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nfunction getNumber(str) {\n  return str.includes('$')\n    ? +str.slice(1).replaceAll(',', '')\n    : +str;\n}\n\nfunction replaceFirstLetter(str) {\n  return str.slice(0, 1).toUpperCase() + str.slice(1);\n}\n\nfunction pushNotification(type, text, titleText) {\n  const boxNotification = document.createElement('div');\n  const h1 = document.createElement('h1');\n  const p = document.createElement('p');\n\n  boxNotification.append(h1, p);\n  boxNotification.classList.add('notification', type);\n  h1.className = 'title';\n  h1.innerText = titleText;\n  p.innerText = text;\n  document.body.append(boxNotification);\n\n  setTimeout(() => {\n    boxNotification.remove();\n  }, 3000);\n}\n\nfunction getThousandSeparator(number) {\n  return number.toLocaleString('en-Us');\n}\n\nconst data = ['name', 'position', 'office', 'age', 'salary'];\nconst offices = ['Tokyo',\n  'Singapore', 'London', 'New York', 'Edinburgh', 'San Francisco'];\nconst employees = document.querySelector('tbody');\nconst form = document.createElement('form');\nconst button = document.createElement('button');\n\nbutton.innerText = 'Save to table';\n\nform.className = 'new-employee-form';\n\ndocument.querySelector('body').append(form);\n\nfor (let i = 0; i < 5; i++) {\n  const label = document.createElement('label');\n\n  label.innerText = replaceFirstLetter(data[i]) + ':';\n\n  if (i === 2) {\n    const select = document.createElement('select');\n    const option = document.createElement('option');\n\n    select.name = data[i];\n    select.setAttribute('data-qa', data[i]);\n\n    for (const country of offices) {\n      option.innerText = country;\n      select.append(option.cloneNode(true));\n    }\n\n    label.append(select);\n  } else {\n    const input = document.createElement('input');\n\n    input.name = data[i];\n    input.setAttribute('data-qa', data[i]);\n\n    if (data[i] === 'age' || data[i] === 'salary') {\n      input.type = 'number';\n      input.min = 0;\n    } else {\n      input.type = 'text';\n    }\n    label.append(input.cloneNode(true));\n  }\n\n  label.children[0].ariaRequired = true;\n  form.append(label.cloneNode(true));\n}\n\nform.append(button);\n\nlet count = 0;\nlet sortTarget = '';\n\ndocument.body.addEventListener('click', e => {\n  count = sortTarget.innerText !== e.target.innerText ? 1 : count + 1;\n  sortTarget = e.target;\n\n  if (count === 2) {\n    e.preventDefault();\n    count = 0;\n  }\n\n  const sort = [...employees.children].sort((a, b) => {\n    const isCompareAsString = e.target\n      .innerText === 'Name' || e.target\n      .innerText === 'Position' || e.target\n      .innerText === 'Office';\n\n    const isCompareAsNumber = e.target\n      .innerText === 'Age' || e.target.innerText === 'Salary';\n\n    if (isCompareAsString) {\n      let cellIndex = 0;\n\n      if (e.target.innerText === 'Position') {\n        cellIndex = 1;\n      } else if (e.target.innerText === 'Office') {\n        cellIndex = 2;\n      }\n\n      const first = a.children[cellIndex].innerText;\n      const second = b.children[cellIndex].innerText;\n\n      if (e.defaultPrevented) {\n        return second.localeCompare(first);\n      }\n\n      return first.localeCompare(second);\n    }\n\n    if (isCompareAsNumber) {\n      const cellIndex = e.target.innerText === 'Age' ? 3 : 4;\n\n      const first = getNumber(a.children[cellIndex].innerText);\n      const second = getNumber(b.children[cellIndex].innerText);\n\n      if (e.defaultPrevented) {\n        return second - first;\n      }\n\n      return first - second;\n    }\n  });\n\n  for (let i = 0; i < sort.length; i++) {\n    let newTr = document.createElement('tr');\n\n    newTr = sort[i];\n    employees.append(newTr);\n  }\n});\n\nlet selectItem = '';\n\nemployees.addEventListener('click', e => {\n  if (selectItem) {\n    document.querySelector('.active').classList.remove('active');\n  }\n\n  selectItem = e.target;\n  selectItem.parentElement.classList.add('active');\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  let type = 'Success';\n  let titleText = 'Great';\n  let text = 'New employee successfully added!';\n  const dataForm = Object.fromEntries(new FormData(form).entries());\n  const isEmptyField = dataForm.position.length === 0\n    || dataForm.salary.length === 0\n    || dataForm.name.length === 0\n    || dataForm.age.length === 0;\n  const isCorrectName = dataForm.name.length >= 4;\n  const isCorrectAge = dataForm.age >= 18 && dataForm.age <= 90;\n\n  if (isEmptyField) {\n    type = 'error';\n    titleText = 'Missing data';\n    text = 'Please, fill all fields!';\n  } else if (!isCorrectAge) {\n    type = 'error';\n    titleText = 'Invalid age';\n    text = 'Enter the correct age!';\n  } else if (!isCorrectName) {\n    type = 'succes';\n    titleText = 'Invalid name';\n    text = 'Name is too shot, please enter the correct name!';\n  } else {\n    const tr = document.createElement('tr');\n\n    for (let i = 0; i < 5; i++) {\n      const td = document.createElement('td');\n\n      if (data[i] === 'salary') {\n        td.innerText = '$' + getThousandSeparator(+dataForm[data[i]]);\n      } else {\n        td.innerText = dataForm[data[i]];\n      }\n\n      tr.append(td);\n    }\n    employees.append(tr);\n    form.reset();\n  }\n\n  pushNotification(type, text, titleText);\n});\n"]}